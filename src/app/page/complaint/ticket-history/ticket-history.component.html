<ion-header>
  <ion-toolbar color="primary">
    <ion-title># Ticket Id {{ticket_id}}</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="closeModal()">
        <ion-icon slot="icon-only" name="close"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-card *ngFor="let dat of history"  [ngClass]="{'wip': dat.ticket_status === 'work in progress', 'assign': dat.ticket_status === 'assigned', 'resolve': dat.ticket_status === 'resolve'}">
    <ion-row>
      <ion-col size="4">
        <ion-text color="dark">Name</ion-text>
      </ion-col>
      <ion-col >
        <ion-text color="warning">{{dat.user}}</ion-text>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="4">
        <ion-text color="dark">Status</ion-text>
      </ion-col>
      <ion-col >
        <ion-text color="warning">{{dat.stage_desc}}</ion-text>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="4">
        <ion-text color="dark">Desciption</ion-text>
      </ion-col>
      <ion-col >
        <ion-text color="warning">{{dat.txn_desc}}</ion-text>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="4">
        <ion-text color="dark">Date & Time</ion-text>
      </ion-col>
      <ion-col >
        <ion-text color="warning">{{dat.txn_date | date: 'dd/MMM/yyyy'}}</ion-text>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="4">
        <ion-text color="dark">Source</ion-text>
      </ion-col>
      <ion-col >
        <ion-text color="warning">{{dat.source}}</ion-text>
      </ion-col>
    </ion-row>
    <ion-row [hidden]="!dat.ticket_file">
      <ion-col class="ion-text-right">
        <ion-button color="danger"  size="small" fill="outline" (click)="viewDoc(dat.ticket_file)">Attachment <ion-icon name="attach-outline" slot="end"></ion-icon> </ion-button>
      </ion-col>
    </ion-row>
  </ion-card>
</ion-content>
